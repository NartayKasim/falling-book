{"ast":null,"code":"import _toConsumableArray from\"C:/Users/KASIM/Documents/falling-book/bookist-alpha/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/KASIM/Documents/falling-book/bookist-alpha/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Input from\"../../common/input/Input\";import classes from\"./AddToBooklist.module.css\";import{v4 as uuidv4}from\"uuid\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateNewBooklist(_ref){var createNewBooklist=_ref.createNewBooklist,booklists=_ref.booklists,availableBooklists=_ref.availableBooklists;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newBooklistTitle=_useState2[0],setNewBooklistTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorState=_useState4[0],setErrorState=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),disableSubmit=_useState6[0],setDisableSubmit=_useState6[1];var restrictedNames=[\"Read Books\"].concat(_toConsumableArray(booklists.map(function(booklist){return booklist.booklist_title;})));var onNewBooklistTitleChange=function onNewBooklistTitleChange(val){setDisableSubmit(false);setErrorState(\"\");if(restrictedNames.includes(val)){setErrorState(\"A booklist with that name already exists.\");setDisableSubmit(true);}setNewBooklistTitle(val);};var onCreateNewBooklistClick=function onCreateNewBooklistClick(){if(newBooklistTitle.length===0){setDisableSubmit(true);setErrorState(\"Please type a booklist name above.\");}else{createNewBooklist(newBooklistTitle);}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.createNewBooklist,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.createNewBooklistHeader,children:[/*#__PURE__*/_jsx(\"span\",{className:classes.or,children:\"-OR-\"}),\"Create New Booklist\"]}),/*#__PURE__*/_jsx(\"div\",{className:classes.createNewBooklistInput,children:/*#__PURE__*/_jsx(Input,{type:\"text\",onChangeFunc:onNewBooklistTitleChange,value:newBooklistTitle,id:uuidv4(),direction:\"column\",placeholder:\"New Booklist\"})}),/*#__PURE__*/_jsx(\"div\",{className:classes.errorState,children:errorState}),/*#__PURE__*/_jsx(\"div\",{className:classes.createNewBooklistButtons,children:/*#__PURE__*/_jsx(\"button\",{disabled:disableSubmit,onClick:function onClick(){return onCreateNewBooklistClick();},className:classes.addToBooklistButton,children:\"Submit\"})})]});}","map":{"version":3,"sources":["C:/Users/KASIM/Documents/falling-book/bookist-alpha/client/src/components/book/booklist/CreateNewBooklist.jsx"],"names":["Input","classes","v4","uuidv4","useState","CreateNewBooklist","createNewBooklist","booklists","availableBooklists","newBooklistTitle","setNewBooklistTitle","errorState","setErrorState","disableSubmit","setDisableSubmit","restrictedNames","map","booklist","booklist_title","onNewBooklistTitleChange","val","includes","onCreateNewBooklistClick","length","createNewBooklistHeader","or","createNewBooklistInput","createNewBooklistButtons","addToBooklistButton"],"mappings":"oRAAA,MAAOA,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,cAAe,SAASC,CAAAA,iBAAT,MAIZ,IAHAC,CAAAA,iBAGA,MAHAA,iBAGA,CAFAC,SAEA,MAFAA,SAEA,CADAC,kBACA,MADAA,kBACA,CACA,cAAgDJ,QAAQ,CAAC,EAAD,CAAxD,wCAAOK,gBAAP,eAAyBC,mBAAzB,eACA,eAAoCN,QAAQ,CAAC,EAAD,CAA5C,yCAAOO,UAAP,eAAmBC,aAAnB,eACA,eAA0CR,QAAQ,CAAC,IAAD,CAAlD,yCAAOS,aAAP,eAAsBC,gBAAtB,eACA,GAAMC,CAAAA,eAAe,EAClB,YADkB,4BAEfR,SAAS,CAACS,GAAV,CAAc,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,cAAvB,EAAd,CAFe,EAArB,CAKA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,GAAD,CAAS,CACvCN,gBAAgB,CAAC,KAAD,CAAhB,CACAF,aAAa,CAAC,EAAD,CAAb,CACA,GAAIG,eAAe,CAACM,QAAhB,CAAyBD,GAAzB,CAAJ,CAAmC,CAChCR,aAAa,CAAC,2CAAD,CAAb,CACAE,gBAAgB,CAAC,IAAD,CAAhB,CACF,CACDJ,mBAAmB,CAACU,GAAD,CAAnB,CACF,CARD,CAUA,GAAME,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,EAAM,CACpC,GAAIb,gBAAgB,CAACc,MAAjB,GAA4B,CAAhC,CAAmC,CAChCT,gBAAgB,CAAC,IAAD,CAAhB,CACAF,aAAa,CAAC,oCAAD,CAAb,CACF,CAHD,IAGO,CACJN,iBAAiB,CAACG,gBAAD,CAAjB,CACF,CACH,CAPD,CASA,mBACG,aAAK,SAAS,CAAER,OAAO,CAACK,iBAAxB,wBACG,aAAK,SAAS,CAAEL,OAAO,CAACuB,uBAAxB,wBACG,aAAM,SAAS,CAAEvB,OAAO,CAACwB,EAAzB,kBADH,yBADH,cAKG,YAAK,SAAS,CAAExB,OAAO,CAACyB,sBAAxB,uBACG,KAAC,KAAD,EACG,IAAI,CAAE,MADT,CAEG,YAAY,CAAEP,wBAFjB,CAGG,KAAK,CAAEV,gBAHV,CAIG,EAAE,CAAEN,MAAM,EAJb,CAKG,SAAS,CAAE,QALd,CAMG,WAAW,CAAC,cANf,EADH,EALH,cAeG,YAAK,SAAS,CAAEF,OAAO,CAACU,UAAxB,UAAqCA,UAArC,EAfH,cAgBG,YAAK,SAAS,CAAEV,OAAO,CAAC0B,wBAAxB,uBACG,eACG,QAAQ,CAAEd,aADb,CAEG,OAAO,CAAE,yBAAMS,CAAAA,wBAAwB,EAA9B,EAFZ,CAGG,SAAS,CAAErB,OAAO,CAAC2B,mBAHtB,oBADH,EAhBH,GADH,CA4BF","sourcesContent":["import Input from \"../../common/input/Input\";\r\nimport classes from \"./AddToBooklist.module.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function CreateNewBooklist({\r\n   createNewBooklist,\r\n   booklists,\r\n   availableBooklists,\r\n}) {\r\n   const [newBooklistTitle, setNewBooklistTitle] = useState(\"\");\r\n   const [errorState, setErrorState] = useState(\"\");\r\n   const [disableSubmit, setDisableSubmit] = useState(true);\r\n   const restrictedNames = [\r\n      \"Read Books\",\r\n      ...booklists.map((booklist) => booklist.booklist_title),\r\n   ];\r\n\r\n   const onNewBooklistTitleChange = (val) => {\r\n      setDisableSubmit(false);\r\n      setErrorState(\"\");\r\n      if (restrictedNames.includes(val)) {\r\n         setErrorState(\"A booklist with that name already exists.\");\r\n         setDisableSubmit(true);\r\n      }\r\n      setNewBooklistTitle(val);\r\n   };\r\n\r\n   const onCreateNewBooklistClick = () => {\r\n      if (newBooklistTitle.length === 0) {\r\n         setDisableSubmit(true);\r\n         setErrorState(\"Please type a booklist name above.\");\r\n      } else {\r\n         createNewBooklist(newBooklistTitle);\r\n      }\r\n   };\r\n\r\n   return (\r\n      <div className={classes.createNewBooklist}>\r\n         <div className={classes.createNewBooklistHeader}>\r\n            <span className={classes.or}>-OR-</span>\r\n            Create New Booklist\r\n         </div>\r\n         <div className={classes.createNewBooklistInput}>\r\n            <Input\r\n               type={\"text\"}\r\n               onChangeFunc={onNewBooklistTitleChange}\r\n               value={newBooklistTitle}\r\n               id={uuidv4()}\r\n               direction={\"column\"}\r\n               placeholder=\"New Booklist\"\r\n            />\r\n         </div>\r\n         <div className={classes.errorState}>{errorState}</div>\r\n         <div className={classes.createNewBooklistButtons}>\r\n            <button\r\n               disabled={disableSubmit}\r\n               onClick={() => onCreateNewBooklistClick()}\r\n               className={classes.addToBooklistButton}\r\n            >\r\n               Submit\r\n            </button>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}